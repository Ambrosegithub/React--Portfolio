"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4099],{94321:function(t,e,n){n.d(e,{p:function(){return i}});var r=n(85893),i=function(t){var e=t.width,n=t.height,i=t.fill,a=null!==e&&void 0!==e?e:18,o=null!==n&&void 0!==n?n:20,u=null!==i&&void 0!==i?i:"white";return(0,r.jsx)("svg",{width:a,height:o,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8.99918 1.27776e-08C9.8076 -7.26652e-05 10.5853 0.309897 11.172 0.866056C11.7587 1.42222 12.1097 2.18221 12.1529 2.98947L12.1571 3.15789H16.7887C16.9487 3.15794 17.1027 3.21873 17.2196 3.32798C17.3366 3.43722 17.4077 3.58678 17.4186 3.74643C17.4295 3.90607 17.3794 4.06391 17.2784 4.18804C17.1774 4.31217 17.0331 4.39335 16.8745 4.41516L16.7887 4.42105H15.8969L14.8695 17.0973C14.8054 17.8881 14.446 18.6258 13.8627 19.1636C13.2794 19.7015 12.5151 20.0001 11.7217 20H6.27665C5.48326 20.0001 4.71891 19.7015 4.13566 19.1636C3.5524 18.6258 3.19297 17.8881 3.12886 17.0973L2.10065 4.42105H1.2097C1.05708 4.42105 0.909627 4.36577 0.794605 4.26546C0.679583 4.16514 0.604776 4.02657 0.58402 3.87537L0.578125 3.78947C0.578131 3.63685 0.633403 3.4894 0.733718 3.37437C0.834034 3.25935 0.972606 3.18455 1.12381 3.16379L1.2097 3.15789H5.84128C5.84128 2.32037 6.17399 1.51715 6.76621 0.924926C7.35843 0.332706 8.16165 1.27776e-08 8.99918 1.27776e-08V1.27776e-08ZM14.6303 4.42105H3.36802L4.38781 16.9954C4.42632 17.4698 4.64201 17.9124 4.992 18.2351C5.34199 18.5578 5.80061 18.7369 6.27665 18.7368H11.7217C12.1977 18.7369 12.6564 18.5578 13.0064 18.2351C13.3563 17.9124 13.572 17.4698 13.6105 16.9954L14.6295 4.42105H14.6303ZM7.10444 7.57895C7.25706 7.57895 7.40452 7.63423 7.51954 7.73454C7.63456 7.83486 7.70937 7.97343 7.73013 8.12463L7.73602 8.21053V14.9474C7.73597 15.1074 7.67518 15.2614 7.56594 15.3784C7.45669 15.4953 7.30714 15.5664 7.14749 15.5773C6.98784 15.5882 6.83001 15.5381 6.70587 15.4371C6.58174 15.3361 6.50057 15.1918 6.47876 15.0333L6.47286 14.9474V8.21053C6.47286 8.04302 6.5394 7.88238 6.65785 7.76393C6.77629 7.64549 6.93694 7.57895 7.10444 7.57895V7.57895ZM10.8939 7.57895C11.0465 7.57895 11.194 7.63423 11.309 7.73454C11.424 7.83486 11.4988 7.97343 11.5196 8.12463L11.5255 8.21053V14.9474C11.5254 15.1074 11.4647 15.2614 11.3554 15.3784C11.2462 15.4953 11.0966 15.5664 10.937 15.5773C10.7773 15.5882 10.6195 15.5381 10.4953 15.4371C10.3712 15.3361 10.29 15.1918 10.2682 15.0333L10.2623 14.9474V8.21053C10.2623 8.04302 10.3289 7.88238 10.4473 7.76393C10.5658 7.64549 10.7264 7.57895 10.8939 7.57895ZM8.99918 1.26316C8.51907 1.2631 8.05684 1.4453 7.70591 1.77294C7.35498 2.10058 7.14151 2.54923 7.10865 3.02821L7.10444 3.15789H10.8939L10.8897 3.02821C10.8568 2.54923 10.6434 2.10058 10.2924 1.77294C9.94151 1.4453 9.47928 1.2631 8.99918 1.26316V1.26316Z",fill:u})})}},23559:function(t,e,n){n.d(e,{p:function(){return d}});var r=n(59499),i=n(42211).g.actions,a=i.addToast,o=i.removeToast,u=i.removeBatch,s=n(10187),c=n(33337);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=function(){var t=(0,s.TL)();return{toast:function(e){var n=(0,c.w)();return t(a({toast:l({id:n},e)})),e.time&&setTimeout((function(){t(o({id:n}))}),e.time),n},removeToast:function(e){return t(o({id:e}))},removeBatch:function(e){return t(u({batch:e}))}}}},12613:function(t,e,n){n.d(e,{El:function(){return r},lj:function(){return a}});var r=50,i=["added","creating_task","creating_task_failed","importing","importing_failed","task_created"],a=function(t){if(0===t.length)return!1;var e=!1;return t.forEach((function(t){i.includes(t.fileState.status)&&(e=!0)})),!e}},72125:function(t,e,n){n.d(e,{h:function(){return u},s:function(){return s}});var r=n(50029),i=n(87794),a=n.n(i),o=n(85127),u=10,s=function(t,e,n,i){var s=function(){var s=(0,r.Z)(a().mark((function r(){var s,f;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,(0,o._)(1e3);case 4:if(s=e(),f=n(),c(f.length,s.length)){r.next=8;break}return r.abrupt("return");case 8:f.slice(0,u-s.length).forEach((function(e){t(e)}));case 9:case"end":return r.stop()}}),r)})));return function(){return s.apply(this,arguments)}}(),c=function(t,e){return!(0===t||e>=u)},f=function(t,e){return!(t+e<u)},l=function(){var n=(0,r.Z)(a().mark((function n(r,u){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i&&!f(u,e().length)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,o._)(100);case 4:t(r);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();return{handleBatchedSingleFile:l,proceedNextImports:s}}},67992:function(t,e,n){n.d(e,{g:function(){return v}});var r=n(50029),i=n(87794),a=n.n(i),o=n(92777),u=n(82262),s=n(59499),c=n(31458),f=n(8165),l=function(){function t(e,n,r){var i=this;(0,o.Z)(this,t),(0,s.Z)(this,"task",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"periodicStatusCheckInterval",null),(0,s.Z)(this,"metaData",void 0),(0,s.Z)(this,"isComplete",!1),(0,s.Z)(this,"handleDisconnect",(function(){i.options.onDisconnect&&i.options.onDisconnect(i.task,i.metaData)})),(0,s.Z)(this,"handleReconnect",(function(){i.options.onReconnect&&i.options.onReconnect(i.task,i.metaData)})),(0,s.Z)(this,"handleOnOfflineLimitReach",(function(t){i.options.onOfflineLimitReach&&i.options.onOfflineLimitReach(t,i.metaData)})),(0,s.Z)(this,"handleComplete",(function(t){i.isComplete||(i.isComplete=!0,i.options.onComplete(t,i.metaData),i.removePeriodicStatusCheck(),i.destroy())})),(0,s.Z)(this,"handleTaskFail",(function(t){i.options.onFailure(t,i.metaData),i.removePeriodicStatusCheck(),i.destroy()})),this.task=e,this.options=n,this.metaData=r}return(0,u.Z)(t,[{key:"startTask",value:function(){var t=(0,r.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.init(),e=new f.M(this.task,{handleDisconnect:this.handleDisconnect,handleReconnect:this.handleReconnect,handleTaskComplete:this.handleComplete,handleTaskFail:this.handleTaskFail,onOfflineLimitReach:this.handleOnOfflineLimitReach}),t.next=4,e.appendTask();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"init",value:function(){this.options.onStart(this.task,this.metaData)}},{key:"initPeriodicStatusCheck",value:function(){var t=this;this.periodicStatusCheckInterval=setInterval((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.checkStatus();case 1:case"end":return e.stop()}}),e)}))),6e4)}},{key:"removePeriodicStatusCheck",value:function(){this.periodicStatusCheckInterval&&clearInterval(this.periodicStatusCheckInterval),this.periodicStatusCheckInterval=null}},{key:"checkStatus",value:function(){var t=(0,r.Z)(a().mark((function t(){var e,n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.U)("/api/tasks/".concat(this.task.id));case 2:if(!(r=t.sent).error){t.next=5;break}return t.abrupt("return");case 5:"completed"===(null===(e=r.result)||void 0===e?void 0:e.status)&&this.handleComplete(r.result),"failed"===(null===(n=r.result)||void 0===n?void 0:n.status)&&this.handleTaskFail(r.result);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cancel",value:function(){}},{key:"destroy",value:function(){}}]),t}(),d=n(67294),p=[],v=function(t){var e=function(){var e=(0,r.Z)(a().mark((function e(n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new l(n,t,r),e.next=3,i.startTask();case 3:p.push();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){return function(){p.forEach((function(t){return t.destroy()}))}}),[]),{handleExternalImport:e}}},91248:function(t,e,n){n.d(e,{T:function(){return s}});var r=n(56726),i=function(t){return{file:t,src:URL.createObjectURL(t),size:(0,r.t)(t.size)}},a=n(67294),o=n(86315),u=n(96267),s=function(t,e,n){var r=(0,a.useState)(!1),s=r[0],c=r[1],f=(0,u.N)(300),l=(0,u.N)(300),d=function(t){t.preventDefault()},p=function(t){c(!0),t.preventDefault()},v=function(t){t.preventDefault()},h=function(t){l((function(){return c(!1)})),t.preventDefault()},m=function(t){l((function(){return c(!0)})),t.preventDefault()},g=function(t){t.preventDefault()},C=function(t){if(l((function(){return c(!1)})),t.preventDefault(),t.dataTransfer&&t.dataTransfer.items&&t.dataTransfer.items[0]){var e=t.dataTransfer.items;if(n.allowMultiple){for(var r=[],a=0;a<e.length;a++){var o,u=null===(o=e[a])||void 0===o?void 0:o.getAsFile();u&&r.push(i(u))}y(r)}else{var s=t.dataTransfer.items[0].getAsFile();s&&y([i(s)])}}},k=(0,o.d)(n.supportedExtensions).validateFiles,y=function(t){f((function(){return e(k(t),"device",{})}))};return(0,a.useEffect)((function(){return t&&(t.addEventListener("drag",C),t.addEventListener("dragenter",p),t.addEventListener("dragstart",v),t.addEventListener("dragleave",h),t.addEventListener("dragover",m),t.addEventListener("dragend",g),t.addEventListener("drop",C)),function(){t&&(t.removeEventListener("drag",d),t.removeEventListener("dragenter",p),t.removeEventListener("dragstart",v),t.removeEventListener("dragleave",h),t.removeEventListener("dragover",m),t.removeEventListener("dragend",g),t.removeEventListener("drop",C))}}),[t]),{isDragging:s}}},33337:function(t,e,n){var r;n.d(e,{w:function(){return d}});var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(t){return"string"===typeof t&&o.test(t)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};var l=function(t,e,n){var r=(t=t||{}).random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return f(r)},d=function(){return l()}},16541:function(t,e,n){n.d(e,{u:function(){return a}});var r=n(76687),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return t.length<=e?t:"".concat((0,r.Z)(t).splice(0,e).join(""),"...")},a=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;if(t.length<=n)return t;var r=t.split(".")[t.split(".").length-1],a=t.substring(0,null!==(e=t.length-(null===r||void 0===r?void 0:r.length))&&void 0!==e?e:-1);return"".concat(i(a,n),".").concat(r)}},62926:function(t,e,n){n.d(e,{x:function(){return f}});var r=n(50029),i=n(87794),a=n.n(i),o=n(31400),u=n(23559),s=n(10187),c=n(82566),f=function(){var t=(0,s.TL)(),e=(0,u.p)().toast,n="".concat((0,c.V)("you-are-offline")," ").concat((0,c.V)("trying-to-reconnect")),i=function(){var i=(0,r.Z)(a().mark((function i(u,s,c,f,l,d){var p,v,h;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t(l({imageId:u.id,type:c,options:f}));case 2:p=i.sent,v=p.payload,h=null,"rejected"===p.meta.requestStatus?(e({closeable:!0,position:"top-right",status:"error",text:n,time:o.w}),h=setInterval((0,r.Z)(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(l({imageId:u.id,type:c,options:f}));case 2:n=e.sent,r=n.payload,"fulfilled"===n.meta.requestStatus&&(h&&clearInterval(h),d(u,r.result,s,c));case 5:case"end":return e.stop()}}),e)}))),5e3)):"fulfilled"===p.meta.requestStatus&&d(u,v.result,s,c);case 6:case"end":return i.stop()}}),i)})));return function(t,e,n,r,a,o){return i.apply(this,arguments)}}();return{handleCreateImportTask:i}}}}]);
//# sourceMappingURL=4099-98e86267ba022536.js.map